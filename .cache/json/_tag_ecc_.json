{"data":{"ghostTag":{"slug":"ecc","name":"ecc","feature_image":null,"description":null,"meta_title":null,"meta_description":null},"allGhostPost":{"edges":[{"node":{"id":"Ghost__Post__5e73df8b73d281001e1ea40d","title":"Weekly Decentralized Web \"Lunch & Learn\" Video Calls","slug":"weekly-dweb-video-calls","featured":true,"feature_image":"https://s3.fission.codes/2020/03/dweb-lunch-n-learn-3.jpg","excerpt":"We're hosting weekly decentralized web related video calls on Thursdays. Watch the video from the first one on the topic of cryptography, browser APIs, and macaroons, presented by Daniel from our team.","custom_excerpt":"We're hosting weekly decentralized web related video calls on Thursdays. Watch the video from the first one on the topic of cryptography, browser APIs, and macaroons, presented by Daniel from our team.","created_at_pretty":"19 March, 2020","published_at_pretty":"19 March, 2020","updated_at_pretty":"19 March, 2020","created_at":"2020-03-19T14:09:31.000-07:00","published_at":"2020-03-19T15:34:19.000-07:00","updated_at":"2020-03-19T15:34:19.000-07:00","meta_title":null,"meta_description":null,"og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"FISSION Team","slug":"fission","bio":"Exploring fundamental shifts in the way we host, deploy, and run software for humans, using decentralized web technologies.","profile_image":"https://s3.fission.codes/2019/05/fission-logo-white-350px-1.png","twitter":"@fissioncodes","facebook":null,"website":"https://fission.codes"},{"name":"Daniel Holmgren","slug":"daniel","bio":null,"profile_image":"https://s3.fission.codes/2019/09/75f5c64c98dbaf2b49b86c299104ab06.png","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"FISSION Team","slug":"fission","bio":"Exploring fundamental shifts in the way we host, deploy, and run software for humans, using decentralized web technologies.","profile_image":"https://s3.fission.codes/2019/05/fission-logo-white-350px-1.png","twitter":"@fissioncodes","facebook":null,"website":"https://fission.codes"},"primary_tag":{"name":"DWeb Lunch & Learn","slug":"dweblunchnlearn","description":"Decentralized Web Lunch & Learn. Weekly video calls hosted on Thursdays by the Fission team.","feature_image":null,"meta_description":null,"meta_title":null},"tags":[{"name":"DWeb Lunch & Learn","slug":"dweblunchnlearn","description":"Decentralized Web Lunch & Learn. Weekly video calls hosted on Thursdays by the Fission team.","feature_image":null,"meta_description":null,"meta_title":null},{"name":"cryptography","slug":"cryptography","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"WebAuthN","slug":"webauthn","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"macaroons","slug":"macaroons","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"ecc","slug":"ecc","description":null,"feature_image":null,"meta_description":null,"meta_title":null}],"plaintext":"We did our first Decentralized Web \"Lunch & Learn\" video presentation this\nmorning. Join us weekly on Thursdays for live chats, follow the upcoming\nspeakers and topics list [https://talk.fission.codes/t/upcoming-dweb-talks/530],\nor suggest your own topic you'd like to see covered.\n\nWe'll be hosting these calls on a weekly basis, and anyone is welcome to drop\nin. We'll schedule some \"formal\" presentations, other times it might just be\ndemos, sharing some interesting apps we've seen, and so on. Kind of like an\noffice based \"Lunch & Learn\", except there's no office, and it's only lunch time\nin the North American Eastern Time Zone!\n\nCryptography, Keys, and Auth, with Daniel Holmgren\nThis weeks call we had Daniel from our team cover a lot of different\ncryptography and authentication topics related to what we're building at\nFission:\n\n * Cryptographic building blocks: hashes, symmetric keys, asymmetric keys,\n   public/private keys\n * Types of crypto-systems, including RSA and ECC\n * Browser APIs, including WebCrypto, IndexedDB, and WebAuthN\n * Macaroons, a better version of cookies\n\nDaniel also wrote up Everything you wanted to know about Elliptic Curve\nCryptography\n[https://blog.fission.codes/everything-you-wanted-to-know-about-elliptic-curve-cryptography/] \n as a full blog post, with definitions of all the various algorithms.\n\nHere's the video of the live call:\n\nhttps://ipfs.runfission.com/ipfs/Qme4pju9gFYuzCtZc1RJHAB31o9i4ay57FvBGDVgyk2rg5/daniel-crypto-dweb-lunchnlearn.mp4\n\n You can find all the related links and resources in our forum\n[https://talk.fission.codes/t/cryptography-keys-and-authorization-authentication-with-daniel-holmgren/529]\n.\n\nWant to be reminded about joining us next week? Subscribe to our Events &\nMeetups list Â»\n[https://5d04d668.sibforms.com/serve/MUIEAIlLz1kjYt6HZ5KK2HdjjwFSCY6DGobJY_wWMJTUB96KYAKCKS51gCUfiqsTtGbfpX30jAXqWjG3mCxFaQtmFY-rGKE_TIr5PSj8RYMuCqoONmKwjC2-4kKvu0MyX_0kSjSwVQJsYf9a5BamJo_OmRfUvVJWjXgaWsHbEtBV_7iR4ulTCCQao_l1MMjN_t4YsG0eCtyB3bBF]","html":"<p>We did our first Decentralized Web \"Lunch &amp; Learn\" video presentation this morning. Join us weekly on Thursdays for live chats, follow the <a href=\"https://talk.fission.codes/t/upcoming-dweb-talks/530\">upcoming speakers and topics list</a>, or suggest your own topic you'd like to see covered.</p><p>We'll be hosting these calls on a weekly basis, and anyone is welcome to drop in. We'll schedule some \"formal\" presentations, other times it might just be demos, sharing some interesting apps we've seen, and so on. Kind of like an office based \"Lunch &amp; Learn\", except there's no office, and it's only lunch time in the North American Eastern Time Zone!</p><h2 id=\"cryptography-keys-and-auth-with-daniel-holmgren\">Cryptography, Keys, and Auth, with Daniel Holmgren</h2><p>This weeks call we had Daniel from our team cover a lot of different cryptography and authentication topics related to what we're building at Fission:</p><ul><li>Cryptographic building blocks: hashes, symmetric keys, asymmetric keys, public/private keys</li><li>Types of crypto-systems, including RSA and ECC</li><li>Browser APIs, including WebCrypto, IndexedDB, and WebAuthN</li><li>Macaroons, a better version of cookies</li></ul><p>Daniel also wrote up <a href=\"https://blog.fission.codes/everything-you-wanted-to-know-about-elliptic-curve-cryptography/\">Everything you wanted to know about Elliptic Curve Cryptography</a> as a full blog post, with definitions of all the various algorithms.</p><p>Here's the video of the live call:</p><!--kg-card-begin: html--><video width=\"100%\" height=\"100%\" controls>\n              <source src=\"https://ipfs.runfission.com/ipfs/Qme4pju9gFYuzCtZc1RJHAB31o9i4ay57FvBGDVgyk2rg5/daniel-crypto-dweb-lunchnlearn.mp4\">\n              <a href=\"https://ipfs.runfission.com/ipfs/Qme4pju9gFYuzCtZc1RJHAB31o9i4ay57FvBGDVgyk2rg5/daniel-crypto-dweb-lunchnlearn.mp4\">https://ipfs.runfission.com/ipfs/Qme4pju9gFYuzCtZc1RJHAB31o9i4ay57FvBGDVgyk2rg5/daniel-crypto-dweb-lunchnlearn.mp4</a>\n            </video><!--kg-card-end: html--><p>You can find all the related <a href=\"https://talk.fission.codes/t/cryptography-keys-and-authorization-authentication-with-daniel-holmgren/529\">links and resources in our forum</a>.</p><p>Want to be reminded about joining us next week? <a href=\"https://5d04d668.sibforms.com/serve/MUIEAIlLz1kjYt6HZ5KK2HdjjwFSCY6DGobJY_wWMJTUB96KYAKCKS51gCUfiqsTtGbfpX30jAXqWjG3mCxFaQtmFY-rGKE_TIr5PSj8RYMuCqoONmKwjC2-4kKvu0MyX_0kSjSwVQJsYf9a5BamJo_OmRfUvVJWjXgaWsHbEtBV_7iR4ulTCCQao_l1MMjN_t4YsG0eCtyB3bBF\">Subscribe to our Events &amp; Meetups list Â»</a></p>","url":"https://blog.fission.codes/weekly-dweb-video-calls/","canonical_url":null,"uuid":"8da9e8f8-20f2-43ae-bd37-af065305a892","page":false,"codeinjection_foot":null,"codeinjection_head":null,"codeinjection_styles":null,"comment_id":"5e73df8b73d281001e1ea40d","reading_time":null}},{"node":{"id":"Ghost__Post__5e274d05fbc2c9001eeb9759","title":"Everything you wanted to know about Elliptic Curve Cryptography","slug":"everything-you-wanted-to-know-about-elliptic-curve-cryptography","featured":true,"feature_image":"https://s3.fission.codes/2020/03/math.jpg","excerpt":"So you've heard of Elliptic Curve Cryptography. Maybe you know it's supposed to\nbe better than RSA. Maybe you know that all these cool new decentralized\nprotocols use it. Maybe you've seen the landslide of acronyms that go along with\nit: ECC, ECDSA, ECDH, EdDSA, Ed25519, etc. Maybe you've seen some cool looking\ngraphs but don't know how those translate to working cryptography. The articles\nyou find online either don't answer your questions, or launch in to a 30 minute\ndescription of birational e","custom_excerpt":null,"created_at_pretty":"21 January, 2020","published_at_pretty":"19 March, 2020","updated_at_pretty":"19 March, 2020","created_at":"2020-01-21T11:12:05.000-08:00","published_at":"2020-03-18T18:50:41.000-07:00","updated_at":"2020-03-19T09:16:18.000-07:00","meta_title":null,"meta_description":null,"og_description":null,"og_image":null,"og_title":null,"twitter_description":null,"twitter_image":null,"twitter_title":null,"authors":[{"name":"Daniel Holmgren","slug":"daniel","bio":null,"profile_image":"https://s3.fission.codes/2019/09/75f5c64c98dbaf2b49b86c299104ab06.png","twitter":null,"facebook":null,"website":null}],"primary_author":{"name":"Daniel Holmgren","slug":"daniel","bio":null,"profile_image":"https://s3.fission.codes/2019/09/75f5c64c98dbaf2b49b86c299104ab06.png","twitter":null,"facebook":null,"website":null},"primary_tag":{"name":"cryptography","slug":"cryptography","description":null,"feature_image":null,"meta_description":null,"meta_title":null},"tags":[{"name":"cryptography","slug":"cryptography","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"elliptic","slug":"elliptic","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"ecc","slug":"ecc","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"keys","slug":"keys","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"DID","slug":"did","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"encryption","slug":"encryption","description":null,"feature_image":null,"meta_description":null,"meta_title":null},{"name":"Technology Highlight","slug":"technology-highlight","description":null,"feature_image":null,"meta_description":null,"meta_title":null}],"plaintext":"So you've heard of Elliptic Curve Cryptography. Maybe you know it's supposed to\nbe better than RSA. Maybe you know that all these cool new decentralized\nprotocols use it. Maybe you've seen the landslide of acronyms that go along with\nit: ECC, ECDSA, ECDH, EdDSA, Ed25519, etc. Maybe you've seen some cool looking\ngraphs but don't know how those translate to working cryptography. The articles\nyou find online either don't answer your questions, or launch in to a 30 minute\ndescription of birational equivalence.\n\nWe feel your pain. We wanted to create a resource that answers all those\nquestions you have, gives you a cheat sheet for those pesky acronyms, and takes\nyou from crypto-kindergartener to elliptic-expert in less than 10 minutes.\n\nEnough with the talk! I just need to figure out what all these funky acronyms\nmean!\n  \nRSA:  Rivestâ€“Shamirâ€“Adleman (the three inventors of RSA)\nOld school cryptography that uses prime-factorization\n\nECC:  Elliptic Curve Cryptography\nNew-fangled cryptography that uses elliptic curves. More secure & smaller keys\nthan RSA.\n\nECDH:  Elliptic Curve Diffie Hellman\nKey-sharing algorithm used for asymmetric encryption\n\nECDSA:  Elliptic Curve Digital Signing Algorithm\nDigital signing algorithm using elliptic curves (makes sense right?)\n\nEdwards Curve:  \nA special type of elliptic curve (most are Montgomery Curves). Faster for\ncertain operations.\n\nEdDSA:  Edwards Digital Signing Algorithm\nDigital signing algorithm using an Edwards curve. Runs in constant time.\n\nEd25519:  Edwards Curve 25519\nThe most commonly used Edwards Curve\n\nCurve25519:\nThe non-edwards companion to Ed25519\n\nsecp256k1:\nThe curve used by Bitcoin & Ethereum\n\nNIST Curves:\nCurves created and standardized by the National Institute of Standards and\nTechnology \n\nWhat is asymmetric cryptography?\n\nAsymmetric cryptography  (or \"public key cryptography\") is a cryptographic\nsystem that uses keypairs (a private key and a public key). The public key is\nshared widely, while the private key must be kept \ncompletely secret. \n\nThere are two main use cases for public key cryptography: asymmetric encryption\nand digital signatures.\n\nAsymmetric encryption  is a method by which Alice can send a message to Bob\nwithout leaking any information about her private key to Bob and nothing about\nthe key or the message to the outside world. \n\nDigital signatures  are a means of verifying that a message came from the holder\nof a certain private key and that the information has not been tampered with in\nflight.\n\nHow on earth does that work?\n\nAll public key cryptography relies on the existence of one-way functions:\nmathematical functions that are very easy to calculate in one direction but\nnearly impossible to \"undo\", or calculate in the other direction.\n\nRSA has been the predominant cryptosystem since its introduction in 1977. It\nrelies on prime factorization  of very large numbers.\n\nPrime factorization is the process of breaking a number down into the product of\nprime numbers. This is easy with small numbers: for instance, the prime factors\nof 70 are 2 * 5 * 7. Now do that with a 2048-bit integer, and it ends up being\npretty complicated.\n\nSweet good thing someone figured that out. Now we can all kick back and relax\nknowing all of our information is secure!\n\nWell, computers are a lot faster nowadays than in 1977. Unfortunately that means\nthat they're also getting faster at factoring large prime numbers. While a 256\nbit key might've cut it at one point, now that key can be broken in âŒšðŸ‘€, 103\nseconds. \n\nComputers and prime numbers are now in an arms race, with the current key size\nrecommendation being 2048 bits. As keys get larger, operations obviously become\nslower. Meanwhile, the threat of quantum computing looms on the horizon. The now\ninfamous Shor's algorithm [https://en.wikipedia.org/wiki/Shor%27s_algorithm] \nthreatens to solve prime factorization in polynomial time. Which would render\nRSA as good as done.\n\nIs there no hope for privacy?!\n\nThere's a new one-way function on the block: Elliptic Curve Cryptography. Now\nwith 100% less prime factorization! \n\nWhat's an elliptic curve?\n\nElliptic curves are cool looking curves that look like this: \n\nAnd are graphed with equations that looks like this: \n\ny^2 = x^3 + ax + b\n\nExcept decimals are a bit unruly so we only take the integers, and then take a\nmodulus of the function (basically wrap the graph around the edges like an old\ngame of snake), so the graph actually ends up looking something like this (note\nthere's still a horizontal line of symmetry):\n\nAlright, but what do these have to do with cryptography?\nThe basic procedure of ECC is this:\n\n * Choose a curve and a point P  on the curve (everyone uses the same point)\n * Choose an arbitrary very large number N  (this is your private key).\n * Using point addition, add P  to itself N  times\n * The x-coordinate of N*P  is your public-key\n\nCan you ground this in reality a bit?\n\nSure! Let's draw an analogy to adjusting a clock. Here are the same steps listed\nout but with a clock instead of an elliptic curve:\n\n * Grab a clock sitting at exactly midnight and choose an arbitrary number of\n   seconds P\n * Choose a very large number N\n * Move the clock forward P  seconds N  times (pretend you have really fast\n   hands ðŸ˜œ)\n * Give the clock to a friend and tell them how big each step was (P) then see\n   if they can figure out how many times you moved it (N) to arrive at the\n   current location\n\nAnd how well does this whole thing work?\n\nIt turns out this is a much more robust one-way function than prime\nfactorization. In fact, we can achieve the same security as a 3072-bit RSA key\nwith a 256-bit ECC key. Not bad!\n\nWhat if someone guesses the same number N  that I chose?\n\nThere's a mind-blowingly large range of numbers to choose from. Each key is 256\nbits so you have 2^256 = 10^77  options. To give you a scale of how big this is,\nthere are: \n\n * ~10^18  grains of sand on earth\n * ~10^22  stars in the observable universe\n * ~10^78  atoms in the observable universe\n\nSo guessing someone's private key would be approximately equivalent to guessing\na random atom in the universe.\n\nDoesn't it take a long time to calculate my public key?\n\nNope, point addition is associative. Meaning:\nP + P + P + P = (P + P) + (P + P) = 2P + 2P\n\nSo when calculating a N*P  for a very large N, you only need to calculate P + 2P\n+ 4P + 8P...\n\nAt most, you must calculate 256 terms. Trivial for a computer. But to guess the\npublic key for a given private key, you would need to check every number in\nbetween (that big number we talked about earlier).\n\nHow do these keys translate into cryptographic functions?\n\nECDH  is a key sharing algorithm, most commonly used to send encrypted messages.\nECDH works by multiplying your private key by another's public key to get a\nshared secret, then using that shared secret to perform symmetric encryption.\n\nTo illustrate why this works:\n\n * Alice and Bob agree on a curve with starting point P\n * Alice has a private key a  and public key A = a * P\n * Bob has a private key b  and public key B = b * P\n * a * B = a * b * P = b * A\n * So a * b * P  ends up being the shared secret\n\nECDSA is a signature algorithm, used to prove authenticity of some information.\nThe algorithm is a bit trickier than ECDH. \nWarning: lots of equations, feel free to skip to the takeways below.\n\n * Alice and bob agree on a curve with starting point P\n * Alice has a private key a  and public key A = a * P\n * Alice chooses a random k  and point K = k * P\n * Alice takes r  which is just the x-value of K\n * Alice hashes her message to produce hash H\n * Alice calculates a value s = inv(k)*(H+ra)\n * Alice sends her message to Bob along with the signature (r, s)\n * Bob calculates H  from the message\n * Bob ensures that r = H*inv(s)*P + r*inv(s)*A\n * If it does, the signature is valid!\n\nIf you skipped those equations or they don't quite click, the key takeaways \nare:\n\n * Alice sends a random value r  and a calculated value s  that could only be\n   calculated with a combination of the private key, the message hash, and the\n   random value, but gives away no information about her private key.\n * Bob can verify r  and s  by using just the message hash and Alice's public\n   key\n * You need  a good source of randomness to use ECDSA. If you're randomness\n   function is broken, repeated signatures can disclose your private key\n\nReal quick, you mentioned symmetric encryption. How does that work?\nSymmetric encryption uses just one key to encrypt and decrypt a message.\nEncrypted messages just look like random jumbles of letters and numbers that\ngive no information about the underlying message unless you have the key to\n\"unjumble\" it. Most algorithms use a block cipher. This involves choosing a\nblock size (say 64 bits), and encrypting the message in blocks of that size.\n\nWe mentioned symmetric encryption when talking about ECDH. When people say\n\"asymmetrically encrypted\", they actually mean \"symmetrically encrypted with a\nsecret that is shared asymmetrically\".\n\nA few examples of algorithms are AES\n[https://en.wikipedia.org/wiki/Advanced_Encryption_Standard], Salsa20\n[https://en.wikipedia.org/wiki/Salsa20], or Triplesec\n[https://keybase.io/triplesec]  (which is actually just a combo of the first two\nfor extra security).\n\nOkay, I generally understand how this works, but how do people decide on a curve\nand a point P?\n\nA bunch of different ways, sometimes they're chosen for a specific reason,\nsometimes they're algorithmically determined. Different curves have different\nproperties. Checkout Safe Curves [https://safecurves.cr.yp.to/]  for an analysis\nof different curves.\n\nCan \"faulty\" curves give backdoors?\n\nYes! Faulty curves can give shortcuts to determining a private key from a given\npublic key. \n\nMany suspect that NIST curves have NSA backdoors in them.  This is because a\npublished NIST randomization algorithm (that the NSA tightly collaborated on)\nwas found to have a backdoor.\n[https://www.ams.org/notices/201402/rnoti-p190.pdf]  We encourage you not to use\nany curves published by the NIST!\n\nWhat's this \"Edwards Curve\" I keep hearing about?\n\nMost Elliptic curves are Montgomery Curves\n[https://en.wikipedia.org/wiki/Montgomery_curve]. Edwards Curves were described\nby mathematician Harold Edwards and popularized by cryptographer Daniel\nBernstein. They have a different structure that allows for a faster signature\nalgorithm. This signature algorithm, when performed on an Edwards curve, is\ncalled EdDSA. This algorithm runs in constant time, meaning it's faster and\nleaks less information\n\nCan Edwards Curves do key sharing?\n\nEdwards curves are specifically used for signatures. There is not a related\nDiffie-Hellman key sharing algorithm.\n\nSo if I want to use both ECDH & EdDSA, I need two key pairs?\n\nNot exactly. Let's take the most common Edwards curve Ed25519. This curve is\nrelated to Montgomery curve Curve25519. In fact Ed25519 is a twist\n[https://en.wikipedia.org/wiki/Twists_of_curves]  of Curve25519. A \"twist\"\nbasically means that the curves are mappable to one another. What this means is\nthat you can use the same private key to generate a public key on both curves\nand then transform those public keys between one another without any knowledge\nof the private key. Specifically, with these equations.\n\n(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)\n(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))\n\n\nwhere (u, v)  is the Curve25519 point and (x, y)  is the Ed25519 point\n\nYou can read a more in-depth post about that Here\n[https://blog.filippo.io/using-ed25519-keys-for-encryption/].\n\nWhat cryptography algorithms do protocols like Bitcoin, Ethereum, and IPFS use?\n\nBitcoin uses secp256k1  for completely arbitrary reasons\n[https://bitcointalk.org/index.php?topic=2699.msg37328#msg37328]\nEtherem uses secp256k1  for interop with Bitcoin\n[https://forum.ethereum.org/discussion/comment/53/#Comment_53]\nIPFS uses Ed25519  and RSA.\n\nOkay so what do you recommend?\nWe're using Ed25519 & Curve25519. We chose these because:\n\n * They are well-recognized as safe curves [https://safecurves.cr.yp.to/]\n * They are one of the more commonly used curves, so we have easier interop\n * They allow us to use EdDSA for signatures\n * We're fairly certain that they don't have any backdoors in them\n\nThis is sweet! Why doesn't everyone have a private key??\n\nWe ask ourselves the same question everyday. The main reason is: it's a pain.\nKeys look scary (6A576D5A7134743777217A25432A462D4A614...). And if you lose a\nkey, you're forever screwed. There's no \"recovery by email\" available. \n\nWhat are people doing about this?\n\nWe need to fix the UX of public keys. Remove the scary hexadecimal strings and\nprovide more painless recovery.\n\nA few options are\n\n * Replication: Share the same key across multiple devices. If you drop your\n   phone in a lake, you can recover your key with your laptop\n * Shamir Secret Sharing: This involves splitting a key up into separate\n   \"shares\". Each share reveals nothing about the key, but by combining the\n   shares back together, you can recover the private key. This leads to\n   interesting solutions like social recovery\n   [https://www.coindesk.com/pay-your-friends-to-protect-your-keys-one-startups-new-take-on-crypto-custody] \n    or zero-knowledge key recovery\n   [https://medium.com/@amanladia1/zerowallet-a-zkp-based-wallet-authentication-mechanism-9871dcca0a01] \n    which we implemented as a Proof of Concept\n   [https://github.com/fission-suite/zerowallet-poc].\n * Secure Hardware Enclaves: Many phones and computers that are coming out these\n   days have Secure Hardware Enclaves. These use both hardware and software to\n   provide very  strong security gurantees\n * Hardware Secure Modules (HSMs): These are similar to Secure Hardware\n   Enclaves, but larger and hold more information. Physical modules exist, and\n   you can also rent space from cloud providers such as AWS. Less\n   security-minded users might be interested in backing up their keys with a\n   \"trusted custodian\" (this still ends up being quite a bit safer than the\n   internet's current security model).\n\nHow are you using private keys?\n\nHere at Fission, we wanted to get private keys into the hands of our users as\nquickly as possible. We just rolled out our new authentication scheme which uses\nprivate keys to power our command line tool: Fission Live\n[https://github.com/fission-suite/cli]. Give it a go and let us know what you\nthink! We have other big projects coming down the pipeline soon that will use\nthis public key infrastructure to power some really neat features: a global\nencrypted filesystem, cryptographically verifiable claims, and more!","html":"<p>So you've heard of Elliptic Curve Cryptography. Maybe you know it's supposed to be better than RSA. Maybe you know that all these cool new decentralized protocols use it. Maybe you've seen the landslide of acronyms that go along with it: ECC, ECDSA, ECDH, EdDSA, Ed25519, etc. Maybe you've seen some cool looking graphs but don't know how those translate to working cryptography. The articles you find online either don't answer your questions, or launch in to a 30 minute description of <em>birational equivalence</em>.<br><br>We feel your pain. We wanted to create a resource that answers all those questions you have, gives you a cheat sheet for those pesky acronyms, and takes you from crypto-kindergartener to elliptic-expert in less than 10 minutes.</p><h3 id=\"enough-with-the-talk-i-just-need-to-figure-out-what-all-these-funky-acronyms-mean-\">Enough with the talk! I just need to figure out what all these funky acronyms mean!</h3><p> <br><strong>RSA:</strong> Rivestâ€“Shamirâ€“Adleman (the three inventors of RSA)<br>Old school cryptography that uses prime-factorization<br><br><strong>ECC:</strong> Elliptic Curve Cryptography<br>New-fangled cryptography that uses elliptic curves. More secure &amp; smaller keys than RSA.<br><br><strong>ECDH:</strong> Elliptic Curve Diffie Hellman<br>Key-sharing algorithm used for asymmetric encryption<br><br><strong>ECDSA:</strong> Elliptic Curve Digital Signing Algorithm<br>Digital signing algorithm using elliptic curves (makes sense right?)<br><br><strong>Edwards Curve:</strong> <br>A special type of elliptic curve (most are Montgomery Curves). Faster for certain operations.<br><br><strong>EdDSA:</strong> Edwards Digital Signing Algorithm<br>Digital signing algorithm using an Edwards curve. Runs in constant time.<br><br><strong>Ed25519:</strong> Edwards Curve 25519<br>The most commonly used Edwards Curve<br><br><strong>Curve25519:</strong><br>The non-edwards companion to Ed25519<br><br><strong>secp256k1:</strong><br>The curve used by Bitcoin &amp; Ethereum<br><br><strong>NIST Curves:</strong><br>Curves created and standardized by the National Institute of Standards and Technology </p><h3 id=\"what-is-asymmetric-cryptography\">What is asymmetric cryptography?<br></h3><p><strong>Asymmetric cryptography</strong> (or \"public key cryptography\") is a cryptographic system that uses keypairs (a private key and a public key). The public key is shared widely, while the private key must be kept <br>completely secret. <br><br>There are two main use cases for public key cryptography: asymmetric encryption and digital signatures.<br><br><strong>Asymmetric encryption</strong> is a method by which Alice can send a message to Bob without leaking any information about her private key to Bob and nothing about the key or the message to the outside world. <br><br><strong>Digital signatures</strong> are a means of verifying that a message came from the holder of a certain private key and that the information has not been tampered with in flight.</p><h3 id=\"how-on-earth-does-that-work\">How on earth does that work?<br></h3><p>All public key cryptography relies on the existence of <strong>one-way functions</strong>: mathematical functions that are very easy to calculate in one direction but nearly impossible to \"undo\", or calculate in the other direction.<br><br>RSA has been the predominant cryptosystem since its introduction in 1977. It relies on <strong>prime factorization</strong> of very large numbers.<br><br>Prime factorization is the process of breaking a number down into the product of prime numbers. This is easy with small numbers: for instance, the prime factors of 70 are 2 * 5 * 7. Now do that with a 2048-bit integer, and it ends up being pretty complicated.</p><h3 id=\"sweet-good-thing-someone-figured-that-out-now-we-can-all-kick-back-and-relax-knowing-all-of-our-information-is-secure-\">Sweet good thing someone figured that out. Now we can all kick back and relax knowing all of our information is secure!<br></h3><p>Well, computers are a lot faster nowadays than in 1977. Unfortunately that means that they're also getting faster at factoring large prime numbers. While a 256 bit key might've cut it at one point, now that key can be broken in âŒšðŸ‘€, 103 seconds. <br><br>Computers and prime numbers are now in an arms race, with the current key size recommendation being 2048 bits. As keys get larger, operations obviously become slower. Meanwhile, the threat of quantum computing looms on the horizon. The now infamous <a href=\"https://en.wikipedia.org/wiki/Shor%27s_algorithm\">Shor's algorithm</a> threatens to solve prime factorization in polynomial time. Which would render RSA as good as done.</p><h3 id=\"is-there-no-hope-for-privacy-\">Is there no hope for privacy?!<br></h3><p>There's a new one-way function on the block: <strong>Elliptic Curve Cryptography</strong>. Now with 100% less prime factorization! </p><h3 id=\"what-s-an-elliptic-curve\">What's an elliptic curve?<br></h3><p>Elliptic curves are cool looking curves that look like this: </p><!--kg-card-begin: image--><figure class=\"kg-card kg-image-card\"><img src=\"https://s3.fission.codes/2020/01/ecc.png\" class=\"kg-image\"></figure><!--kg-card-end: image--><p>And are graphed with equations that looks like this: </p><!--kg-card-begin: markdown--><p><code>y^2 = x^3 + ax + b</code></p>\n<!--kg-card-end: markdown--><p>Except decimals are a bit unruly so we only take the integers, and then take a modulus of the function (basically wrap the graph around the edges like an old game of snake), so the graph actually ends up looking something like this (note there's still a horizontal line of symmetry):</p><!--kg-card-begin: image--><figure class=\"kg-card kg-image-card\"><img src=\"https://s3.fission.codes/2020/01/sageplot_06.png\" class=\"kg-image\"></figure><!--kg-card-end: image--><h3 id=\"alright-but-what-do-these-have-to-do-with-cryptography\">Alright, but what do these have to do with cryptography?</h3><!--kg-card-begin: markdown--><p>The basic procedure of ECC is this:</p>\n<ul>\n<li>Choose a curve and a point <code>P</code> on the curve (everyone uses the same point)</li>\n<li>Choose an arbitrary very large number <code>N</code> (this is your private key).</li>\n<li>Using point addition, add <code>P</code> to itself <code>N</code> times</li>\n<li>The x-coordinate of <code>N*P</code> is your public-key</li>\n</ul>\n<!--kg-card-end: markdown--><h3 id=\"can-you-ground-this-in-reality-a-bit\">Can you ground this in reality a bit?<br></h3><p>Sure! Let's draw an analogy to adjusting a clock. Here are the same steps listed out but with a clock instead of an elliptic curve:</p><!--kg-card-begin: markdown--><ul>\n<li>Grab a clock sitting at exactly midnight and choose an arbitrary number of seconds <code>P</code></li>\n<li>Choose a very large number <code>N</code></li>\n<li>Move the clock forward <code>P</code> seconds <code>N</code> times (pretend you have really fast hands ðŸ˜œ)</li>\n<li>Give the clock to a friend and tell them how big each step was (<code>P</code>) then see if they can figure out how many times you moved it (<code>N</code>) to arrive at the current location</li>\n</ul>\n<!--kg-card-end: markdown--><h3 id=\"and-how-well-does-this-whole-thing-work\">And how well does this whole thing work?<br></h3><p>It turns out this is a much more robust one-way function than prime factorization. In fact, we can achieve the same security as a 3072-bit RSA key with a 256-bit ECC key. Not bad!</p><h3 id=\"what-if-someone-guesses-the-same-number-n-that-i-chose\">What if someone guesses the same number <em>N</em> that I chose?<br></h3><p>There's a mind-blowingly large range of numbers to choose from. Each key is 256 bits so you have <code>2^256 = 10^77</code> options. To give you a scale of how big this is, there are: </p><!--kg-card-begin: markdown--><ul>\n<li><code>~10^18</code> grains of sand on earth</li>\n<li><code>~10^22</code> stars in the observable universe</li>\n<li><code>~10^78</code> atoms in the observable universe</li>\n</ul>\n<!--kg-card-end: markdown--><p>So guessing someone's private key would be approximately equivalent to guessing a random atom in the <em>universe.</em></p><h3 id=\"doesn-t-it-take-a-long-time-to-calculate-my-public-key\">Doesn't it take a long time to calculate my public key?<br></h3><p>Nope, point addition is associative. Meaning:<br><code>P + P + P + P = (P + P) + (P + P) = 2P + 2P</code><br><br>So when calculating a <code>N*P</code> for a very large <code>N</code>, you only need to calculate <code>P + 2P + 4P + 8P...</code> Â <br><br>At most, you must calculate 256 terms. Trivial for a computer. But to guess the public key for a given private key, you would need to check every number in between (that big number we talked about earlier).</p><h3 id=\"how-do-these-keys-translate-into-cryptographic-functions\">How do these keys translate into cryptographic functions?<br></h3><p><strong>ECDH</strong> is a key sharing algorithm, most commonly used to send encrypted messages. ECDH works by multiplying your private key by another's public key to get a shared secret, then using that shared secret to perform symmetric encryption.</p><!--kg-card-begin: markdown--><p>To illustrate why this works:</p>\n<ul>\n<li>Alice and Bob agree on a curve with starting point <code>P</code></li>\n<li>Alice has a private key <code>a</code> and public key <code>A = a * P</code></li>\n<li>Bob has a private key <code>b</code> and public key <code>B = b * P</code></li>\n<li><code>a * B = a * b * P = b * A</code></li>\n<li>So <code>a * b * P</code> ends up being the shared secret</li>\n</ul>\n<!--kg-card-end: markdown--><p><strong>ECDSA </strong>is a signature algorithm, used to prove authenticity of some information. The algorithm is a bit trickier than ECDH. <br><em>Warning: lots of equations, feel free to skip to the takeways below.</em></p><!--kg-card-begin: markdown--><ul>\n<li>Alice and bob agree on a curve with starting point <code>P</code></li>\n<li>Alice has a private key <code>a</code> and public key <code>A = a * P</code></li>\n<li>Alice chooses a random <code>k</code> and point <code>K = k * P</code></li>\n<li>Alice takes <code>r</code> which is just the x-value of <code>K</code></li>\n<li>Alice hashes her message to produce hash <code>H</code></li>\n<li>Alice calculates a value <code>s = inv(k)*(H+ra)</code></li>\n<li>Alice sends her message to Bob along with the signature <code>(r, s)</code></li>\n<li>Bob calculates <code>H</code> from the message</li>\n<li>Bob ensures that <code>r = H*inv(s)*P + r*inv(s)*A</code></li>\n<li>If it does, the signature is valid!</li>\n</ul>\n<p>If you skipped those equations or they don't quite click, the key <strong>takeaways</strong> are:</p>\n<ul>\n<li>Alice sends a random value <code>r</code> and a calculated value <code>s</code> that could only be calculated with a combination of the private key, the message hash, and the random value, but gives away no information about her private key.</li>\n<li>Bob can verify <code>r</code> and <code>s</code> by using just the message hash and Alice's public key</li>\n<li>You <em>need</em> a good source of randomness to use ECDSA. If you're randomness function is broken, repeated signatures can disclose your private key</li>\n</ul>\n<!--kg-card-end: markdown--><h3 id=\"real-quick-you-mentioned-symmetric-encryption-how-does-that-work\">Real quick, you mentioned symmetric encryption. How does that work?</h3><p>Symmetric encryption uses just one key to encrypt and decrypt a message. Encrypted messages just look like random jumbles of letters and numbers that give no information about the underlying message unless you have the key to \"unjumble\" it. Most algorithms use a <strong>block cipher. </strong>This involves choosing a block size (say 64 bits), and encrypting the message in blocks of that size.</p><p>We mentioned symmetric encryption when talking about ECDH. When people say \"asymmetrically encrypted\", they actually mean \"symmetrically encrypted with a secret that is shared asymmetrically\".</p><p>A few examples of algorithms are <a href=\"https://en.wikipedia.org/wiki/Advanced_Encryption_Standard\">AES</a>, <a href=\"https://en.wikipedia.org/wiki/Salsa20\">Salsa20</a>, or <a href=\"https://keybase.io/triplesec\">Triplesec</a> (which is actually just a combo of the first two for <em>extra security</em>).</p><h3 id=\"okay-i-generally-understand-how-this-works-but-how-do-people-decide-on-a-curve-and-a-point-p\">Okay, I generally understand how this works, but how do people decide on a curve and a point P?<br></h3><p>A bunch of different ways, sometimes they're chosen for a specific reason, sometimes they're algorithmically determined. Different curves have different properties. Checkout <a href=\"https://safecurves.cr.yp.to/\">Safe Curves</a> for an analysis of different curves.</p><h3 id=\"can-faulty-curves-give-backdoors\">Can \"faulty\" curves give backdoors?<br></h3><p>Yes! Faulty curves can give shortcuts to determining a private key from a given public key. <br><br><em>Many suspect that NIST curves have NSA backdoors in them.</em> <a href=\"https://www.ams.org/notices/201402/rnoti-p190.pdf\">This is because a published NIST randomization algorithm (that the NSA tightly collaborated on) was found to have a backdoor.</a> We encourage you not to use any curves published by the NIST!</p><h3 id=\"what-s-this-edwards-curve-i-keep-hearing-about\">What's this \"Edwards Curve\" I keep hearing about?<br></h3><p>Most Elliptic curves are <a href=\"https://en.wikipedia.org/wiki/Montgomery_curve\"><strong>Montgomery Curves</strong></a>. Edwards Curves were described by mathematician Harold Edwards and popularized by cryptographer Daniel Bernstein. They have a different structure that allows for a faster signature algorithm. This signature algorithm, when performed on an Edwards curve, is called <strong>EdDSA</strong>. This algorithm runs in constant time, meaning it's faster and leaks less information</p><h3 id=\"can-edwards-curves-do-key-sharing\">Can Edwards Curves do key sharing?<br></h3><p>Edwards curves are specifically used for signatures. There is not a related Diffie-Hellman key sharing algorithm.</p><h3 id=\"so-if-i-want-to-use-both-ecdh-eddsa-i-need-two-key-pairs\">So if I want to use both ECDH &amp; EdDSA, I need two key pairs?<br></h3><p>Not exactly. Let's take the most common Edwards curve <strong>Ed25519</strong>. This curve is related to Montgomery curve <strong>Curve25519</strong>. In fact Ed25519 is a <strong><a href=\"https://en.wikipedia.org/wiki/Twists_of_curves\">twist</a></strong> of Curve25519. A \"twist\" basically means that the curves are mappable to one another. What this means is that you can use the same private key to generate a public key on both curves and then transform those public keys between one another without any knowledge of the private key. Specifically, with these equations.</p><!--kg-card-begin: markdown--><pre><code>(u, v) = ((1+y)/(1-y), sqrt(-486664)*u/x)\n(x, y) = (sqrt(-486664)*u/v, (u-1)/(u+1))\n</code></pre>\n<p>where <code>(u, v)</code> is the Curve25519 point and <code>(x, y)</code> is the Ed25519 point</p>\n<!--kg-card-end: markdown--><p>You can read a more in-depth post about that <a href=\"https://blog.filippo.io/using-ed25519-keys-for-encryption/\">Here</a>.</p><h3 id=\"what-cryptography-algorithms-do-protocols-like-bitcoin-ethereum-and-ipfs-use\">What cryptography algorithms do protocols like Bitcoin, Ethereum, and IPFS use?<br></h3><p>Bitcoin uses <strong>secp256k1</strong> for <a href=\"https://bitcointalk.org/index.php?topic=2699.msg37328#msg37328\">completely arbitrary reasons</a><br>Etherem uses <strong>secp256k1</strong> for <a href=\"https://forum.ethereum.org/discussion/comment/53/#Comment_53\">interop with Bitcoin</a><br>IPFS uses <strong>Ed25519</strong> and <strong>RSA</strong>.</p><h3 id=\"okay-so-what-do-you-recommend\">Okay so what do you recommend?</h3><!--kg-card-begin: markdown--><p>We're using Ed25519 &amp; Curve25519. We chose these because:</p>\n<ul>\n<li>They are well-recognized as <a href=\"https://safecurves.cr.yp.to/\">safe curves</a></li>\n<li>They are one of the more commonly used curves, so we have easier interop</li>\n<li>They allow us to use EdDSA for signatures</li>\n<li>We're fairly certain that they don't have any backdoors in them</li>\n</ul>\n<!--kg-card-end: markdown--><h3 id=\"this-is-sweet-why-doesn-t-everyone-have-a-private-key\">This is sweet! Why doesn't everyone have a private key??<br></h3><p>We ask ourselves the same question everyday. The main reason is: it's a pain. Keys look scary (<code>6A576D5A7134743777217A25432A462D4A614...</code>). And if you lose a key, you're forever screwed. There's no \"recovery by email\" available. </p><h3 id=\"what-are-people-doing-about-this\">What are people doing about this?<br></h3><!--kg-card-begin: markdown--><p>We need to fix the UX of public keys. Remove the scary hexadecimal strings and provide more painless recovery.</p>\n<p>A few options are</p>\n<ul>\n<li>Replication: Share the same key across multiple devices. If you drop your phone in a lake, you can recover your key with your laptop</li>\n<li>Shamir Secret Sharing: This involves splitting a key up into separate &quot;shares&quot;. Each share reveals nothing about the key, but by combining the shares back together, you can recover the private key. This leads to interesting solutions like <a href=\"https://www.coindesk.com/pay-your-friends-to-protect-your-keys-one-startups-new-take-on-crypto-custody\">social recovery</a> or <a href=\"https://medium.com/@amanladia1/zerowallet-a-zkp-based-wallet-authentication-mechanism-9871dcca0a01\">zero-knowledge key recovery</a> which we implemented as a <a href=\"https://github.com/fission-suite/zerowallet-poc\">Proof of Concept</a>.</li>\n<li>Secure Hardware Enclaves: Many phones and computers that are coming out these days have Secure Hardware Enclaves. These use both hardware and software to provide <em>very</em> strong security gurantees</li>\n<li>Hardware Secure Modules (HSMs): These are similar to Secure Hardware Enclaves, but larger and hold more information. Physical modules exist, and you can also rent space from cloud providers such as AWS. Less security-minded users might be interested in backing up their keys with a &quot;trusted custodian&quot; (this still ends up being quite a bit safer than the internet's current security model).</li>\n</ul>\n<!--kg-card-end: markdown--><h3 id=\"how-are-you-using-private-keys\">How are you using private keys?<br></h3><p>Here at Fission, we wanted to get private keys into the hands of our users as quickly as possible. We just rolled out our new authentication scheme which uses private keys to power our command line tool: <a href=\"https://github.com/fission-suite/cli\">Fission Live</a>. Give it a go and let us know what you think! We have other big projects coming down the pipeline soon that will use this public key infrastructure to power some really neat features: a global encrypted filesystem, cryptographically verifiable claims, and more!</p>","url":"https://blog.fission.codes/everything-you-wanted-to-know-about-elliptic-curve-cryptography/","canonical_url":null,"uuid":"c045a827-06e6-4b75-895e-782a8b2ddfce","page":false,"codeinjection_foot":null,"codeinjection_head":null,"codeinjection_styles":null,"comment_id":"5e274d05fbc2c9001eeb9759","reading_time":null}}]}},"pageContext":{"slug":"ecc","pageNumber":0,"humanPageNumber":1,"skip":0,"limit":12,"numberOfPages":1,"previousPagePath":"","nextPagePath":""}}